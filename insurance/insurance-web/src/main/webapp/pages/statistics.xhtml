<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/template/main-panel.xhtml">

	<ui:define name="body">


		<div class="card">
			<div class="card-header">
				<h1>Sinisters Chart</h1>
			</div>
			<div class="card-body">
			<html>
  			<head>
				<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
				<script type="text/javascript">
	   				google.charts.load('current', {'packages':['corechart']});
	      			google.charts.setOnLoadCallback(drawChart);
				
				      function drawChart() {
				
				        var data = google.visualization.arrayToDataTable([
				          ['accessoire', 'nombre'],
				          ['Valid sinisters',   #{sinisterBean.accepted().size()}],
				          ['Invalid sinisters', #{sinisterBean.denied().size()}],
				                  ]);
				
				        var options = {
				          title: 'Sinister Classification'
				        };
				
				        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
				
				        chart.draw(data, options);
				      }
			    	</script>

			  </head>
			  <body>
					<div id="piechart" style="width: 900px; height: 500px;"></div>
			</body>
			</html> 
			</div>
		</div>

	</ui:define>

</ui:composition>